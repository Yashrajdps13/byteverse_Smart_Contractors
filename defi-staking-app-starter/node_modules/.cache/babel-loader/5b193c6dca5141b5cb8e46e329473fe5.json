{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\src\\\\components\\\\App.js\";\n// import React, {Component, useState} from 'react';\n// import './App.css'\n// import Web3 from 'web3';\n// //import Tether from '../truffle_abis/Tether.json'// here we just bring up the contract.json which contains all the information about our contract and we call it further to gain access to that data\n// class App extends Component {\n//     async  UNSAFE_componentWillMount() {\n//         await this.loadWeb3();\n//         await this.loadBlockchainData();\n//     }\n//     async  loadWeb3() {\n//     if(window.ethereum) {\n//         window.web3 = new Web3(window.ethereum)// to check whether the browser has any account on the ethereum or not\n//         await window.ethereum.enable()\n//     } else if(window.web3) {\n//         window.web3 = new Web3(window.web3.currentProvider)// The code assigns a new Web3 instance to the window.web3 object, using the current provider object set by a browser extension like Metamask.\n//     }else {\n//         window.alert(\"No ethereum browser detected: You can check out MetaMask\")\n//     }\n// }\n// // loading web3 in our react-app\n//     async  loadBlockchainData() {\n//         const web3 = window.web3;\n//         const account = await web3.eth.getAccounts();// this just for fetching my account that I am using currently in the browser\n//         this.setState({account: account[0]})// here we have used setState to initailize the account form the array of account which is created by the \"web3.eth.getAccounts()\"\n//         console.log(\"here is my account\"+account);\n//         const networkId = await web3.eth.net.getId();// to get the networkId\n//         //load randomContractName  contract to your app\n//         //const tetherdata = Tether.networks[networkId];//but you can simply check that whether the contract is habing the above mentioned mentioned netwworkId or not? by just opening its JSON file in the \"contract_abis\"\n//     }\n// //The state property is a way for React components to manage their internal state, which determines how they are rendered and updated.\n// // In this case, the component is initialized with an initial state of { account: '0x0' }, which means that the account property will initially be set to the string '0x0'. This state can be updated later by calling the setState method, which will trigger a re-render of the component.\n//     constructor(props) {\n//         super(props)\n//         this.state = {\n//             account: '0x0',// enertring random value for precerving the int type vacant variable to later use in mhy project \n//           //  tether: {},//creating empty objects for storing the object\n//         }\n//     }\n//     render() {\n//     return (\n//         <>\n//         <h1 className='text-center'>Jai mata di</h1>\n//             </>  \n//     )\n//     }\n// }\n// export default App;\n//testing part---\n// import React, {Component, useState} from 'react';\n// import './App.css'\n// import Web3 from 'web3';\n// import Voting from '../truffle_abis/voting.json'// here we just bring up the contract.json which contains all the information about our contract and we call it further to gain access to that data\n// class App extends Component {\n//     async  UNSAFE_componentWillMount() {\n//                 await this.loadWeb3();\n//                 await this.loadBlockchainData();\n//             }\n//             async  loadWeb3() {\n//             if(window.ethereum) {\n//                 window.web3 = new Web3(window.ethereum)// to check whether the browser has any account on the ethereum or not\n//                 await window.ethereum.enable()\n//             } else if(window.web3) {\n//                 window.web3 = new Web3(window.web3.currentProvider)// The code assigns a new Web3 instance to the window.web3 object, using the current provider object set by a browser extension like Metamask.\n//             }else {\n//                 window.alert(\"No ethereum browser detected: You can check out MetaMask\")\n//             }\n//         }\n//         // loading web3 in our react-app\n//             async  loadBlockchainData() {\n//                 const web3 = window.web3;\n//                 const account = await web3.eth.getAccounts();// this just for fetching my account that I am using currently in the browser\n//                 this.setState({account: account[0]})// here we have used setState to initailize the account form the array of account which is created by the \"web3.eth.getAccounts()\"\n//                 console.log(\"here is my account\"+account);\n//                 const networkId = await web3.eth.net.getId();// to get the networkId\n//                // to get the networkId\n//                 console.log(`network id is ${networkId}`);\n//                 //load Voting  contract to your app\n//                 const votingData = Voting.networks[networkId];//but you can simply check that whether the contract is habing the above mentioned mentioned netwworkId or not? by just opening its JSON file in the \"contract_abis\"\n//                 // console.log(votingData.address);\n//                 if(votingData) {\n//                     const voting = new web3.eth.Contract( Voting.abi, votingData.address )\n//                     //  console.log(votingData.address);\n//                     this.setState({voting: voting});\n//                     let counter = await voting.methods.counter().call();\n//                     this.setState({counter: counter.toString() })\n//                     console.log({counter: counter})\n//                     // let person = await voting.methods.person.call();\n//                     // this.setState({person: person})// problem that wether it willl be converted to string or not\n//                 }\n//                 else{\n//                     console.log(`Error while loading the contract or either networkId has some Issues`)\n//                 }\n//                 this.setState({loading: false});\n//              }\n//         //The state property is a way for React components to manage their internal state, which determines how they are rendered and updated.\n//         // In this case, the component is initialized with an initial state of { account: '0x0' }, which means that the account property will initially be set to the string '0x0'. This state can be updated later by calling the setState method, which will trigger a re-render of the component.\n//         constructor(props) {\n//                 super(props);\n//                 this.state = {\n//                     account: '0x0',// enertring random value for precerving the int type vacant variable to later use in mhy project \n//                    voting: {},//creating empty objects for storing the object\n//                    counter:'0',\n//                    person: 'false',\n//                    loading: true\n//                 }\n//             }\n//             render() {\n//              let content;\n//                 {this.state.loading ? content= <p id=\"loader\" className='text-center' style={{margin:'30px'}} >Loading Please Wait....</p> : content= <div>\n//                <p> <button style={{margin:'2rem',}}> Vote</button></p>\n//                 <p><button  >count:  </button></p>\n//                 <p> {this.props.counter}</p>\n//                 <p>\n//                 <button>{this.props.person} person</button>\n//                 </p>\n//             </div>}\n//             return (\n//                 <>\n//                 <div className='container-fluid mt-6'> \n//                 <div className='row'>\n//                     {content}\n//                      </div>\n//                 </div>\n//                     </>  \n//             )\n//             }\n//         }\n//         export default App;\n// import Voting from \"../truffle_abis/voting.json\"\n// import React, { useState, useEffect } from \"react\";\n// import Web3 from \"web3\";\n// import \"./App.css\";\n// function App() {\n//   const [contract, setContract] = useState(null);\n//   const [person, setPerson] = useState(false);\n//   const [counter, setCounter] = useState(0);\n//   // Load the contract on component mount\n//   useEffect(() => {\n//     const loadTheApp = async () => {\n//       // Connect to Ethereum network\n//       if (window.ethereum) {\n//         await window.ethereum.enable();\n//         const web3 = new Web3(window.ethereum);\n//         // Load the network\n//         const networkId = await web3.eth.net.getId();\n//         const contractAddress=  Voting.networks[networkId].address;\n//         const contractABI = Voting.abi;\n//         const votingContract = new web3.eth.Contract(contractABI, contractAddress);\n//         setContract(votingContract);\n//       }\n//     };\n//     loadTheApp();\n//   }, []);\n//   // Handle the voting button click\n//   const handleVoteClick = async () => {\n//     try {\n//       await contract.methods.Vote().send({ from: window.ethereum.selectedAddress });\n//       // Update the state\n//       const newCounter = await contract.methods.counter().call();\n//       setCounter(parseInt(newCounter));\n//       if (newCounter === \"10\") {\n//         setPerson(true);\n//       }\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n//   return (\n//     <div className=\"App\">\n//       <h1>Smart Contract Voting</h1>\n//       <p>Counter: {counter}</p>\n//       {person ? (\n//         <p>The person has voted 10 times.</p>\n//       ) : (\n//         <button onClick={handleVoteClick}>Vote</button>\n//       )}\n//     </div>\n//   );\n// }\n// export default App;\n//      const contractAddress=  Voting.networks[5777].address;\n// const contractABI = Voting.abi;\n// try 14-04-23\nimport React, { Component, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport Web3 from 'web3';\nimport Voting from '../truffle_abis/voting.json'; // here we just bring up the contract.json which contains all the information about our contract and we call it further to gain access to that data\n\nexport default function App() {\n  var votingContract;\n  var userAccount;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      votingContract = _useState2[0],\n      setVotingContract = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      _useState4 = _slicedToArray(_useState3, 2),\n      account = _useState4[0],\n      setAccount = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      counting = _useState6[0],\n      setCounting = _useState6[1];\n\n  var _useState7 = useState(undefined),\n      _useState8 = _slicedToArray(_useState7, 2),\n      reaction = _useState8[0],\n      setReaction = _useState8[1];\n\n  var _useState9 = useState(undefined),\n      _useState10 = _slicedToArray(_useState9, 2),\n      person = _useState10[0],\n      setPersonStatus = _useState10[1];\n\n  function startApp() {\n    return _startApp.apply(this, arguments);\n  }\n\n  function _startApp() {\n    _startApp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!window.ethereum) {\n                _context.next = 6;\n                break;\n              }\n\n              window.web3 = new Web3(window.ethereum);\n              _context.next = 4;\n              return window.ethereum.enable();\n\n            case 4:\n              _context.next = 7;\n              break;\n\n            case 6:\n              if (window.web3) {\n                window.web3 = new Web3(window.web3.currentProvider);\n              } else {\n                console.log(\"No ethereum browser detected: You can check out MetaMask\");\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _startApp.apply(this, arguments);\n  }\n\n  function loadingBlockchainData() {\n    return _loadingBlockchainData.apply(this, arguments);\n  } // var permission\n  // async function permToVote() {\n  //     permission= await votingContract.methods.Vote().send({from : userAccount, gas: 3000000})\n  //     .on('receipt', function (reciept){\n  //             setReaction(`user have successfully voted`);\n  //     }).on('error', function(error) {\n  //         setReaction(`user vote isn't updated by the following error=> ${error}`)\n  //     })\n  // } \n\n\n  function _loadingBlockchainData() {\n    _loadingBlockchainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var web3, networkId, votingData, contractAddress, voting;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return startApp();\n\n            case 2:\n              web3 = window.web3;\n              _context2.next = 5;\n              return web3.eth.getAccounts();\n\n            case 5:\n              userAccount = _context2.sent;\n              // this is to get the connected account on the browser from the MetaMask\n              setAccount(userAccount);\n              _context2.next = 9;\n              return web3.eth.net.getId();\n\n            case 9:\n              networkId = _context2.sent;\n              votingData = Voting.networks[networkId]; //now loading our smart conntract\n\n              if (votingData) {\n                contractAddress = votingData.address;\n                voting = new web3.eth.Contract(Voting.abi, contractAddress);\n                setVotingContract(voting);\n              } else {\n                console.log(\"your votingData is not loaded yet!!\");\n              }\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _loadingBlockchainData.apply(this, arguments);\n  }\n\n  var counted;\n\n  function counter() {\n    return _counter.apply(this, arguments);\n  }\n\n  function _counter() {\n    _counter = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return votingContract.methods.Vote().send({\n                from: userAccount,\n                gas: 3000000\n              }).on('receipt', function (reciept) {\n                setReaction(\"user have successfully voted\");\n              }).on('error', function (error) {\n                setReaction(\"user vote isn't updated by the following error=> \".concat(error));\n              });\n\n            case 2:\n              counted = _context3.sent;\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _counter.apply(this, arguments);\n  }\n\n  var counting;\n\n  function countingStatus() {\n    return _countingStatus.apply(this, arguments);\n  }\n\n  function _countingStatus() {\n    _countingStatus = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return votingContract.methods.counter().call();\n\n            case 2:\n              counting = _context4.sent;\n              setCounting(counting);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _countingStatus.apply(this, arguments);\n  }\n\n  var personn;\n\n  function personStatus() {\n    return _personStatus.apply(this, arguments);\n  }\n\n  function _personStatus() {\n    _personStatus = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return votingContract.methods.n().call();\n\n            case 2:\n              personn = _context5.sent;\n              setPersonStatus(personn);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _personStatus.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }\n  }, \"hello world\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  }, \"now get the right to vote by clicking the button below\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: loadingBlockchainData(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }\n  }, \"vote\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }\n  }, \"counter\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: counter(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 13\n    }\n  }, \"counter\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"txtStatus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, \" \", reaction), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: countingStatus(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }\n  }, \"Counting status\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"countingStatusOnSite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, \" \", counting), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: personStatus(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }\n  }, \"person status\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"personStatusOnSite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }\n  }, \" \", person));\n}","map":{"version":3,"sources":["D:/New_Desktop/codeOnDemand/defi-staking-app-starter/src/components/App.js"],"names":["React","Component","useState","ReactDOM","Web3","Voting","App","votingContract","userAccount","undefined","setVotingContract","account","setAccount","counting","setCounting","reaction","setReaction","person","setPersonStatus","startApp","window","ethereum","web3","enable","currentProvider","console","log","loadingBlockchainData","eth","getAccounts","net","getId","networkId","votingData","networks","contractAddress","address","voting","Contract","abi","counted","counter","methods","Vote","send","from","gas","on","reciept","error","countingStatus","call","personn","personStatus","n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AAGA;AAEA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,6BAAnB,C,CAAgD;;AAEhD,eAAe,SAASC,GAAT,GAAe;AACtB,MAAIC,cAAJ;AACA,MAAIC,WAAJ;;AAFsB,kBAIoBN,QAAQ,CAACO,SAAD,CAJ5B;AAAA;AAAA,MAIjBF,cAJiB;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","sourcesContent":["// import React, {Component, useState} from 'react';\r\n// import './App.css'\r\n// import Web3 from 'web3';\r\n// //import Tether from '../truffle_abis/Tether.json'// here we just bring up the contract.json which contains all the information about our contract and we call it further to gain access to that data\r\n\r\n// class App extends Component {\r\n\r\n//     async  UNSAFE_componentWillMount() {\r\n//         await this.loadWeb3();\r\n//         await this.loadBlockchainData();\r\n//     }\r\n\r\n//     async  loadWeb3() {\r\n//     if(window.ethereum) {\r\n//         window.web3 = new Web3(window.ethereum)// to check whether the browser has any account on the ethereum or not\r\n//         await window.ethereum.enable()\r\n//     } else if(window.web3) {\r\n//         window.web3 = new Web3(window.web3.currentProvider)// The code assigns a new Web3 instance to the window.web3 object, using the current provider object set by a browser extension like Metamask.\r\n//     }else {\r\n//         window.alert(\"No ethereum browser detected: You can check out MetaMask\")\r\n//     }\r\n// }\r\n// // loading web3 in our react-app\r\n//     async  loadBlockchainData() {\r\n//         const web3 = window.web3;\r\n//         const account = await web3.eth.getAccounts();// this just for fetching my account that I am using currently in the browser\r\n//         this.setState({account: account[0]})// here we have used setState to initailize the account form the array of account which is created by the \"web3.eth.getAccounts()\"\r\n//         console.log(\"here is my account\"+account);\r\n//         const networkId = await web3.eth.net.getId();// to get the networkId\r\n\r\n//         //load randomContractName  contract to your app\r\n//         //const tetherdata = Tether.networks[networkId];//but you can simply check that whether the contract is habing the above mentioned mentioned netwworkId or not? by just opening its JSON file in the \"contract_abis\"\r\n     \r\n//     }\r\n// //The state property is a way for React components to manage their internal state, which determines how they are rendered and updated.\r\n\r\n// // In this case, the component is initialized with an initial state of { account: '0x0' }, which means that the account property will initially be set to the string '0x0'. This state can be updated later by calling the setState method, which will trigger a re-render of the component.\r\n//     constructor(props) {\r\n//         super(props)\r\n//         this.state = {\r\n//             account: '0x0',// enertring random value for precerving the int type vacant variable to later use in mhy project \r\n//           //  tether: {},//creating empty objects for storing the object\r\n//         }\r\n//     }\r\n\r\n//     render() {\r\n//     return (\r\n//         <>\r\n//         <h1 className='text-center'>Jai mata di</h1>\r\n           \r\n//             </>  \r\n//     )\r\n//     }\r\n// }\r\n\r\n// export default App;\r\n\r\n\r\n//testing part---\r\n// import React, {Component, useState} from 'react';\r\n// import './App.css'\r\n// import Web3 from 'web3';\r\n// import Voting from '../truffle_abis/voting.json'// here we just bring up the contract.json which contains all the information about our contract and we call it further to gain access to that data\r\n\r\n// class App extends Component {\r\n\r\n\r\n\r\n//     async  UNSAFE_componentWillMount() {\r\n//                 await this.loadWeb3();\r\n//                 await this.loadBlockchainData();\r\n//             }\r\n        \r\n//             async  loadWeb3() {\r\n//             if(window.ethereum) {\r\n//                 window.web3 = new Web3(window.ethereum)// to check whether the browser has any account on the ethereum or not\r\n//                 await window.ethereum.enable()\r\n//             } else if(window.web3) {\r\n//                 window.web3 = new Web3(window.web3.currentProvider)// The code assigns a new Web3 instance to the window.web3 object, using the current provider object set by a browser extension like Metamask.\r\n//             }else {\r\n//                 window.alert(\"No ethereum browser detected: You can check out MetaMask\")\r\n//             }\r\n//         }\r\n//         // loading web3 in our react-app\r\n        \r\n//             async  loadBlockchainData() {\r\n//                 const web3 = window.web3;\r\n//                 const account = await web3.eth.getAccounts();// this just for fetching my account that I am using currently in the browser\r\n//                 this.setState({account: account[0]})// here we have used setState to initailize the account form the array of account which is created by the \"web3.eth.getAccounts()\"\r\n//                 console.log(\"here is my account\"+account);\r\n//                 const networkId = await web3.eth.net.getId();// to get the networkId\r\n//                // to get the networkId\r\n//                 console.log(`network id is ${networkId}`);\r\n        \r\n//                 //load Voting  contract to your app\r\n             \r\n//                 const votingData = Voting.networks[networkId];//but you can simply check that whether the contract is habing the above mentioned mentioned netwworkId or not? by just opening its JSON file in the \"contract_abis\"\r\n//                 // console.log(votingData.address);\r\n//                 if(votingData) {\r\n//                     const voting = new web3.eth.Contract( Voting.abi, votingData.address )\r\n                    \r\n//                     //  console.log(votingData.address);\r\n//                     this.setState({voting: voting});\r\n//                     let counter = await voting.methods.counter().call();\r\n//                     this.setState({counter: counter.toString() })\r\n//                     console.log({counter: counter})\r\n//                     // let person = await voting.methods.person.call();\r\n//                     // this.setState({person: person})// problem that wether it willl be converted to string or not\r\n                    \r\n                    \r\n//                 }\r\n//                 else{\r\n//                     console.log(`Error while loading the contract or either networkId has some Issues`)\r\n//                 }\r\n\r\n\r\n//                 this.setState({loading: false});\r\n//              }\r\n      \r\n         \r\n//         //The state property is a way for React components to manage their internal state, which determines how they are rendered and updated.\r\n        \r\n//         // In this case, the component is initialized with an initial state of { account: '0x0' }, which means that the account property will initially be set to the string '0x0'. This state can be updated later by calling the setState method, which will trigger a re-render of the component.\r\n//         constructor(props) {\r\n//                 super(props);\r\n//                 this.state = {\r\n//                     account: '0x0',// enertring random value for precerving the int type vacant variable to later use in mhy project \r\n//                    voting: {},//creating empty objects for storing the object\r\n//                    counter:'0',\r\n//                    person: 'false',\r\n//                    loading: true\r\n//                 }\r\n//             }\r\n        \r\n//             render() {\r\n                \r\n//              let content;\r\n                \r\n//                 {this.state.loading ? content= <p id=\"loader\" className='text-center' style={{margin:'30px'}} >Loading Please Wait....</p> : content= <div>\r\n//                <p> <button style={{margin:'2rem',}}> Vote</button></p>\r\n//                 <p><button  >count:  </button></p>\r\n//                 <p> {this.props.counter}</p>\r\n//                 <p>\r\n//                 <button>{this.props.person} person</button>\r\n//                 </p>\r\n                \r\n\r\n//             </div>}\r\n//             return (\r\n//                 <>\r\n//                 <div className='container-fluid mt-6'> \r\n//                 <div className='row'>\r\n//                     {content}\r\n//                      </div>\r\n//                 </div>\r\n//                     </>  \r\n//             )\r\n//             }\r\n//         }\r\n        \r\n//         export default App;\r\n        \r\n// import Voting from \"../truffle_abis/voting.json\"\r\n// import React, { useState, useEffect } from \"react\";\r\n// import Web3 from \"web3\";\r\n// import \"./App.css\";\r\n\r\n// function App() {\r\n//   const [contract, setContract] = useState(null);\r\n//   const [person, setPerson] = useState(false);\r\n//   const [counter, setCounter] = useState(0);\r\n\r\n//   // Load the contract on component mount\r\n//   useEffect(() => {\r\n//     const loadTheApp = async () => {\r\n//       // Connect to Ethereum network\r\n//       if (window.ethereum) {\r\n//         await window.ethereum.enable();\r\n//         const web3 = new Web3(window.ethereum);\r\n\r\n//         // Load the network\r\n//         const networkId = await web3.eth.net.getId();\r\n//         const contractAddress=  Voting.networks[networkId].address;\r\n//         const contractABI = Voting.abi;\r\n//         const votingContract = new web3.eth.Contract(contractABI, contractAddress);\r\n\r\n//         setContract(votingContract);\r\n//       }\r\n//     };\r\n\r\n//     loadTheApp();\r\n//   }, []);\r\n\r\n//   // Handle the voting button click\r\n//   const handleVoteClick = async () => {\r\n//     try {\r\n//       await contract.methods.Vote().send({ from: window.ethereum.selectedAddress });\r\n\r\n//       // Update the state\r\n//       const newCounter = await contract.methods.counter().call();\r\n//       setCounter(parseInt(newCounter));\r\n\r\n//       if (newCounter === \"10\") {\r\n//         setPerson(true);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"App\">\r\n//       <h1>Smart Contract Voting</h1>\r\n//       <p>Counter: {counter}</p>\r\n//       {person ? (\r\n//         <p>The person has voted 10 times.</p>\r\n//       ) : (\r\n//         <button onClick={handleVoteClick}>Vote</button>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default App;\r\n\r\n\r\n\r\n\r\n//      const contractAddress=  Voting.networks[5777].address;\r\n// const contractABI = Voting.abi;\r\n         \r\n\r\n// try 14-04-23\r\n\r\nimport React, {Component, useState} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './App.css'\r\nimport Web3 from 'web3';                                                                                                                                                       \r\nimport Voting from '../truffle_abis/voting.json'// here we just bring up the contract.json which contains all the information about our contract and we call it further to gain access to that data\r\n\r\nexport default function App() {\r\n        var votingContract;\r\n        var userAccount;\r\n       \r\n        var [votingContract, setVotingContract] = useState(undefined);\r\n        var [account, setAccount] = useState(undefined);\r\n        var [counting, setCounting] = useState(0);\r\n        var [reaction, setReaction] = useState(undefined);\r\n        var [person, setPersonStatus] = useState(undefined);\r\n\r\n\r\n\r\n\r\n        async function startApp(){\r\n                    if(window.ethereum){\r\n                       window.web3 = new Web3(window.ethereum);\r\n                       await window.ethereum.enable();     \r\n                    } else if(window.web3) {\r\n                         window.web3 = new Web3(window.web3.currentProvider)\r\n                    }else {\r\n                        console.log(\"No ethereum browser detected: You can check out MetaMask\")\r\n                    }                \r\n                }\r\n                async function loadingBlockchainData() {\r\n                    await startApp();\r\n                    const web3= window.web3;\r\n                    userAccount = await web3.eth.getAccounts();// this is to get the connected account on the browser from the MetaMask\r\n                    setAccount(userAccount);\r\n                   const networkId = await web3.eth.net.getId();\r\n                   const votingData = Voting.networks[networkId];\r\n                   \r\n                   //now loading our smart conntract\r\n                   if(votingData){\r\n                       var contractAddress= votingData.address;\r\n\r\n                       var voting = new web3.eth.Contract( Voting.abi, contractAddress );\r\n                       setVotingContract(voting);\r\n                   }\r\n                   else{\r\n                    console.log(\"your votingData is not loaded yet!!\")\r\n                   }\r\n                }\r\n                // var permission\r\n                // async function permToVote() {\r\n                //     permission= await votingContract.methods.Vote().send({from : userAccount, gas: 3000000})\r\n                //     .on('receipt', function (reciept){\r\n                //             setReaction(`user have successfully voted`);\r\n                //     }).on('error', function(error) {\r\n                //         setReaction(`user vote isn't updated by the following error=> ${error}`)\r\n                //     })\r\n                // } \r\n\r\n                       var counted;\r\n                async function counter() {\r\n                    counted= await votingContract.methods.Vote().send({from : userAccount, gas: 3000000})\r\n                    .on('receipt', function (reciept){\r\n                            setReaction(`user have successfully voted`);\r\n                    }).on('error', function(error) {\r\n                        setReaction(`user vote isn't updated by the following error=> ${error}`)\r\n                    })\r\n                } \r\n                var counting;\r\n               async function countingStatus() {\r\n                counting= await votingContract.methods.counter().call();\r\n                setCounting(counting);\r\n               }\r\n                 \r\n               var personn;\r\n               async function personStatus() {\r\n                personn = await votingContract.methods.n().call();\r\n                setPersonStatus(personn)\r\n               }\r\n    \r\n        return(\r\n            <div id='container'>\r\n            <h1>hello world</h1>\r\n            <h2>now get the right to vote by clicking the button below</h2>\r\n            <button onClick={loadingBlockchainData()}>vote</button>\r\n            <h2>counter</h2>\r\n            <button onClick={counter()}>counter</button>\r\n            <p id='txtStatus'> {reaction}</p>\r\n            <button onClick={countingStatus()}>Counting status</button>\r\n            <p id='countingStatusOnSite'> {counting}</p>\r\n            <button onClick={personStatus()}>person status</button>\r\n            <p id='personStatusOnSite'> {person}</p>\r\n            </div>\r\n        )\r\n }"]},"metadata":{},"sourceType":"module"}