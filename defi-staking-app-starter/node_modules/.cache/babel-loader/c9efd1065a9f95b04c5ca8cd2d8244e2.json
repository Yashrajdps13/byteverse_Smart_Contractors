{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\New_Desktop\\\\codeOnDemand\\\\defi-staking-app-starter\\\\src\\\\components\\\\App.js\";\n/// improved voting \nimport Voting from \"../truffle_abis/voting.json\";\nimport React, { useState, useEffect } from \"react\";\nimport Web3 from \"web3\";\nimport \"./App.css\"; //start: 15:03\n\nfunction App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      contract = _useState2[0],\n      setContract = _useState2[1];\n\n  var _useState3 = useState('0'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      countA = _useState4[0],\n      setCountA = _useState4[1];\n\n  var _useState5 = useState('0'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      countB = _useState6[0],\n      setCountB = _useState6[1];\n\n  var _useState7 = useState('0'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      countOfC = _useState8[0],\n      setCountOfC = _useState8[1];\n\n  var _useState9 = useState('result will be declared soon'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      result = _useState10[0],\n      setResult = _useState10[1];\n\n  var _useState11 = useState('account will be updated soon'),\n      _useState12 = _slicedToArray(_useState11, 2),\n      account = _useState12[0],\n      setAccount = _useState12[1];\n\n  useEffect(function () {\n    var loadTheApp = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var web3, _account, networkId, contractAddress, contractABI, votingContract;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!window.ethereum) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.next = 3;\n                return window.ethereum.enable();\n\n              case 3:\n                web3 = new Web3(window.ethereum); ///getting the account\n\n                _context.next = 6;\n                return web3.eth.getAccounts();\n\n              case 6:\n                _account = _context.sent;\n                setAccount(_account[0]); // Load the network\n\n                _context.next = 10;\n                return web3.eth.net.getId();\n\n              case 10:\n                networkId = _context.sent;\n                contractAddress = Voting.networks[networkId].address.toString(); // fetching the system from thi abis\n\n                console.log(typeof contractAddress);\n                console.log(\"account is\" + _account);\n                console.log(contractAddress);\n                contractABI = Voting.abi;\n                console.log(\"contractAbi is= \" + contractABI);\n\n                try {\n                  votingContract = new web3.eth.Contract(contractABI, contractAddress);\n                } catch (error) {\n                  console.log(\"there's is an error in the loading contract\");\n                }\n\n                setContract(votingContract);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function loadTheApp() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    loadTheApp();\n  }, []); // console.log(`contract is => ${contract}`)\n\n  var votea;\n\n  function votingOfA() {\n    return _votingOfA.apply(this, arguments);\n  }\n\n  function _votingOfA() {\n    _votingOfA = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(contract !== null)) {\n                _context2.next = 7;\n                break;\n              }\n\n              console.log(\"I have entered into it\");\n              _context2.next = 4;\n              return contract.methods.voteA().send({\n                from: account\n              }).on(\"receipt\", function (receipt) {\n                var voteStatusForA = document.getElementById('voteStatusForA');\n                voteStatusForA.innerHTML = \"voting for party A has been done\"; // statusOfA();\n              }).on(\"error\", function (error) {\n                var voteStatusForA = document.getElementById('voteStatusForA');\n                voteStatusForA.innerHTML = \"Something went wrong while voting\";\n              });\n\n            case 4:\n              votea = _context2.sent;\n              _context2.next = 8;\n              break;\n\n            case 7:\n              setTimeout(function () {\n                votingOfA();\n              }, 100);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _votingOfA.apply(this, arguments);\n  }\n\n  var voteb;\n\n  function votingOfB() {\n    return _votingOfB.apply(this, arguments);\n  }\n\n  function _votingOfB() {\n    _votingOfB = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(contract !== null)) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.next = 3;\n              return contract.methods.voteB().send({\n                from: account\n              }).on(\"receipt\", function (receipt) {\n                var voteStatusForB = document.getElementById('voteStatusForB');\n                voteStatusForB.innerHTML = \"voting for party B has been done\";\n                statusOfB();\n              }).on(\"error\", function (error) {\n                var voteStatusForB = document.getElementById('voteStatusForB');\n                voteStatusForB.innerHTML = \"Something went wrong while voting\";\n              });\n\n            case 3:\n              voteb = _context3.sent;\n              _context3.next = 7;\n              break;\n\n            case 6:\n              setTimeout(function () {\n                votingOfB();\n              }, 100);\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _votingOfB.apply(this, arguments);\n  }\n\n  var votec;\n\n  function votingOfC() {\n    return _votingOfC.apply(this, arguments);\n  }\n\n  function _votingOfC() {\n    _votingOfC = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(contract !== null)) {\n                _context4.next = 6;\n                break;\n              }\n\n              _context4.next = 3;\n              return contract.methods.voteC().send({\n                from: account\n              }).on(\"receipt\", function (receipt) {\n                var voteStatusForC = document.getElementById('voteStatusForC');\n                voteStatusForC.innerHTML = \"voting for party C has been done\";\n\n                try {\n                  statusOfC();\n                } catch (error) {\n                  console.log(\"can't update the counting of c in the valid place=> \".concat(error));\n                }\n              }).on(\"error\", function (error) {\n                console.log(\"error from voting of c = \".concat(error));\n                var voteStatusForC = document.getElementById('voteStatusForC');\n                voteStatusForC.innerHTML = \"Something went wrong while voting\";\n                ;\n              });\n\n            case 3:\n              votec = _context4.sent;\n              _context4.next = 7;\n              break;\n\n            case 6:\n              setTimeout(function () {\n                votingOfC();\n              }, 100);\n\n            case 7:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _votingOfC.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    console.log(result);\n    var resultsOfVoting = document.getElementById('resultsOfVoting');\n    resultsOfVoting.innerHTML = result;\n  }, [result]);\n  var r;\n\n  function resultDeclaration() {\n    return _resultDeclaration.apply(this, arguments);\n  }\n\n  function _resultDeclaration() {\n    _resultDeclaration = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return contract.methods.winner().call();\n\n            case 2:\n              r = _context5.sent;\n              setResult(r);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _resultDeclaration.apply(this, arguments);\n  }\n\n  function endOfVoting() {\n    return _endOfVoting.apply(this, arguments);\n  }\n\n  function _endOfVoting() {\n    _endOfVoting = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var buttonForA, buttonForB, buttonForC;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              buttonForA = document.getElementById('buttonForA');\n              buttonForA.setAttribute(\"disabled\", true);\n              buttonForB = document.getElementById('buttonForB');\n              buttonForB.setAttribute(\"disabled\", true);\n              buttonForC = document.getElementById('buttonForC');\n              buttonForC.setAttribute(\"disabled\", true);\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _endOfVoting.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    console.log(countA);\n    var statusForA = document.getElementById('statusForA');\n    statusForA.innerHTML = countA;\n  }, [countA]);\n  var vak;\n\n  function statusOfA() {\n    return _statusOfA.apply(this, arguments);\n  }\n\n  function _statusOfA() {\n    _statusOfA = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return contract.methods.a().call();\n\n            case 2:\n              vak = _context7.sent;\n              console.log('a is called' + vak);\n              console.log(\"type of vak = \".concat(typeof vak));\n              setCountA(vak.toString());\n\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _statusOfA.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    console.log(\"now i am in the status of b\");\n    console.log(countB);\n    var statusForB = document.getElementById('statusForB');\n    statusForB.innerHTML = countB;\n  }, [countB]);\n  var ky;\n\n  function statusOfB() {\n    return _statusOfB.apply(this, arguments);\n  }\n\n  function _statusOfB() {\n    _statusOfB = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return contract.methods.b().call();\n\n            case 2:\n              ky = _context8.sent;\n              console.log('b is called' + ky);\n              console.log(\"type of ky = \".concat(typeof ky));\n              setCountB(ky.toString());\n\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _statusOfB.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    // the useEffect of C is not working\n    console.log(countOfC);\n    var statusForC = document.getElementById('statusForC');\n    statusForC.innerHTML = countOfC;\n  }, [countOfC]);\n  var konimal;\n\n  function statusOfC() {\n    return _statusOfC.apply(this, arguments);\n  }\n\n  function _statusOfC() {\n    _statusOfC = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return contract.methods.c().call();\n\n            case 2:\n              konimal = _context9.sent;\n              // konimal = 'ab to update karo';\n              console.log('c is called' + konimal);\n              console.log(\"type of konimal = \".concat(typeof konimal));\n              setCountOfC(konimal);\n\n            case 6:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n    return _statusOfC.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, \"creating an improved version of the voting in India\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"accountName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }, \" Account: \", account), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"voteContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"votingBallot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"votingSectionOfA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, \"A\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"statusForA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !contract,\n    id: \"buttonForA\",\n    className: \"votingButtons\",\n    onClick: function onClick() {\n      votingOfA();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, \"Vote\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"voteStatusForA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"votingBallot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"votingSectionOfB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }\n  }, \"B\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"statusForB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !contract,\n    id: \"buttonForB\",\n    className: \"votingButtons\",\n    onClick: function onClick() {\n      votingOfB();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, \"Vote\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"voteStatusForB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"votingBallot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"votingSectionOfC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }, \"C\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"statusForC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !contract,\n    id: \"buttonForC\",\n    className: \"votingButtons\",\n    onClick: function onClick() {\n      votingOfC();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }\n  }, \"Vote\"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"voteStatusForC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"endVoting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      endOfVoting();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 28\n    }\n  }, \"End Voting\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"showingResults\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      resultDeclaration();\n      statusOfA();\n      statusOfB();\n      statusOfC();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 25\n    }\n  }, \"Show Results\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"boxContainingResult\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    id: \"resultsOfVoting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 37\n    }\n  }))));\n}\n\nexport default App; // 1. why I the innerHTML is not working \n// 2. and findout the new error of metaMask","map":{"version":3,"sources":["D:/New_Desktop/codeOnDemand/defi-staking-app-starter/src/components/App.js"],"names":["Voting","React","useState","useEffect","Web3","App","contract","setContract","countA","setCountA","countB","setCountB","countOfC","setCountOfC","result","setResult","account","setAccount","loadTheApp","window","ethereum","enable","web3","eth","getAccounts","net","getId","networkId","contractAddress","networks","address","toString","console","log","contractABI","abi","votingContract","Contract","error","votea","votingOfA","methods","voteA","send","from","on","receipt","voteStatusForA","document","getElementById","innerHTML","setTimeout","voteb","votingOfB","voteB","voteStatusForB","statusOfB","votec","votingOfC","voteC","voteStatusForC","statusOfC","resultsOfVoting","r","resultDeclaration","winner","call","endOfVoting","buttonForA","setAttribute","buttonForB","buttonForC","statusForA","vak","statusOfA","a","statusForB","ky","b","statusForC","konimal","c"],"mappings":"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","sourcesContent":["\r\n\r\n\r\n/// improved voting \r\n\r\nimport Voting from \"../truffle_abis/voting.json\"\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Web3 from \"web3\";\r\nimport \"./App.css\";\r\n//start: 15:03\r\nfunction App() {\r\n\r\n  const [contract, setContract] = useState(null);\r\n  const [countA, setCountA] = useState('0');\r\n  const [countB, setCountB] = useState('0');\r\n  const [countOfC, setCountOfC] = useState('0');\r\n  const [result, setResult] = useState('result will be declared soon');\r\n  const [account, setAccount] = useState('account will be updated soon');\r\n\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n        const loadTheApp = async () => {\r\n          // Connect to Ethereum network\r\n          if (window.ethereum) {\r\n            await window.ethereum.enable();\r\n            const web3 = new Web3(window.ethereum);\r\n\r\n            ///getting the account\r\n             \r\n        const account = await web3.eth.getAccounts();\r\n        setAccount(account[0]);\r\n            // Load the network\r\n            const networkId = await web3.eth.net.getId();\r\n            const contractAddress=  Voting.networks[networkId].address.toString();// fetching the system from thi abis\r\n            console.log(typeof contractAddress);\r\n            console.log(\"account is\"+account);\r\n            console.log(contractAddress)\r\n            const contractABI = Voting.abi;\r\n            console.log(`contractAbi is= `+contractABI)\r\n            let votingContract;\r\n\r\n            try {\r\n                 votingContract = new web3.eth.Contract(contractABI, contractAddress);\r\n            } catch (error) {\r\n              console.log(\"there's is an error in the loading contract\")\r\n            }\r\n            \r\n            setContract(votingContract);\r\n            \r\n          }\r\n        };  \r\n        \r\n        \r\n        loadTheApp();\r\n      }, []);\r\n      // console.log(`contract is => ${contract}`)\r\n\r\n     \r\n\r\n     \r\n      \r\n          let votea;\r\n        \r\n          async function votingOfA() {\r\n            if(contract !== null) {\r\n              console.log(\"I have entered into it\")\r\n\r\n              votea= await contract.methods.voteA().send({from: account})\r\n              .on(\"receipt\", function(receipt) {\r\n              \r\n                let voteStatusForA = document.getElementById('voteStatusForA');\r\n                voteStatusForA.innerHTML= `voting for party A has been done`;\r\n\r\n                // statusOfA();\r\n              })\r\n              .on(\"error\", function(error) {\r\n                \r\n                let voteStatusForA = document.getElementById('voteStatusForA');\r\n                voteStatusForA.innerHTML= `Something went wrong while voting`;\r\n              })\r\n            }\r\n            else{\r\n              setTimeout(()=>{\r\n                votingOfA();\r\n              },100)\r\n            }\r\n          }\r\n          let voteb;\r\n        \r\n          async function votingOfB() {\r\n            if(contract!==null){\r\n              voteb = await contract.methods.voteB().send({from: account})\r\n              .on(\"receipt\", function(receipt) {\r\n                \r\n                let voteStatusForB = document.getElementById('voteStatusForB');\r\n                voteStatusForB.innerHTML=`voting for party B has been done`;\r\n\r\n                statusOfB();\r\n              })\r\n              .on(\"error\", function(error) {\r\n                  let voteStatusForB = document.getElementById('voteStatusForB');\r\n                voteStatusForB.innerHTML= `Something went wrong while voting`;\r\n              })\r\n            }\r\n            else{\r\n              setTimeout(()=>{\r\n                votingOfB();\r\n              },100)\r\n            }\r\n          }\r\n          let votec;\r\n         \r\n          async function votingOfC() {\r\n            if(contract !== null){\r\n              votec= await contract.methods.voteC().send({from: account})\r\n              .on(\"receipt\", function(receipt) {\r\n                let voteStatusForC = document.getElementById('voteStatusForC');\r\n                voteStatusForC.innerHTML = `voting for party C has been done`;\r\n\r\n               try {\r\n                statusOfC();\r\n               } catch (error) {\r\n                console.log(`can't update the counting of c in the valid place=> ${error}`);\r\n               }\r\n              })\r\n              \r\n              .on(\"error\", function(error) {\r\n                  console.log(`error from voting of c = ${error}`)\r\n                let voteStatusForC = document.getElementById('voteStatusForC');\r\n                voteStatusForC.innerHTML=  `Something went wrong while voting`;;\r\n              })\r\n            }\r\n            else{\r\n              setTimeout(()=>{\r\n                votingOfC();\r\n              },100)\r\n            }\r\n          }\r\n\r\n          \r\n          useEffect(()=>{\r\n            console.log(result);\r\n            let resultsOfVoting = document.getElementById('resultsOfVoting');\r\n                resultsOfVoting.innerHTML = result;\r\n    \r\n  },[result]);\r\n            let r;\r\n          async function resultDeclaration() {\r\n            r= await contract.methods.winner().call();\r\n              setResult(r);\r\n          }\r\n\r\n          async function endOfVoting() {\r\n           \r\n            let buttonForA = document.getElementById('buttonForA');\r\n            buttonForA.setAttribute(\"disabled\", true);\r\n            let buttonForB = document.getElementById('buttonForB');\r\n            buttonForB.setAttribute(\"disabled\", true);\r\n            let buttonForC = document.getElementById('buttonForC');\r\n            buttonForC.setAttribute(\"disabled\", true);\r\n          }\r\n\r\n          useEffect(()=>{\r\n            console.log(countA);\r\n            let statusForA = document.getElementById('statusForA');\r\n            statusForA.innerHTML = countA;\r\n          },[countA])\r\n            let vak;\r\n          async function statusOfA() {\r\n              vak = await contract.methods.a().call();  \r\n              console.log('a is called'+vak);\r\n              console.log(`type of vak = ${typeof vak}`)\r\n              setCountA(vak.toString());\r\n          }\r\n\r\n          \r\n          useEffect(()=>{\r\n            console.log(\"now i am in the status of b\");\r\n            console.log(countB);\r\n            let statusForB = document.getElementById('statusForB');\r\n            statusForB.innerHTML = countB;\r\n          },[countB])\r\n            let ky;\r\n          async function statusOfB() {\r\n              ky = await contract.methods.b().call();\r\n              console.log('b is called'+ky);\r\n              console.log(`type of ky = ${typeof ky}`)\r\n              setCountB(ky.toString());\r\n          }\r\n\r\n\r\n          useEffect(()=>{// the useEffect of C is not working\r\n            console.log(countOfC);\r\n            let statusForC = document.getElementById('statusForC');\r\n            statusForC.innerHTML = countOfC;\r\n          },[countOfC])\r\n            let konimal;\r\n          async function statusOfC() {\r\n            konimal = await contract.methods.c().call();\r\n            // konimal = 'ab to update karo';\r\n              console.log('c is called'+konimal);\r\n              console.log(`type of konimal = ${typeof konimal}`)\r\n              setCountOfC(konimal);\r\n          }\r\n       \r\n          \r\n\r\n\r\n  return(\r\n      <>\r\n      <div id=\"heading\">creating an improved version of the voting in India</div>\r\n      <div id=\"accountName\"> Account: {account}</div>\r\n      \r\n\r\n      <div id=\"voteContainer\">\r\n        <div className=\"votingBallot\">\r\n        <h2 id=\"votingSectionOfA\">A</h2>\r\n        <p id=\"statusForA\"></p>\r\n\r\n        <button disabled={!contract}  id=\"buttonForA\" className=\"votingButtons\" onClick={()=> {\r\n          votingOfA(); \r\n          }}>Vote</button>\r\n\r\n        <p id=\"voteStatusForA\"></p>\r\n        </div>\r\n        <div className=\"votingBallot\">\r\n        <h2 id=\"votingSectionOfB\">B</h2>\r\n        <p id=\"statusForB\" ></p>\r\n        <button disabled={!contract} id=\"buttonForB\" className=\"votingButtons\" onClick={()=> {\r\n          votingOfB();\r\n\r\n          }}>Vote</button>\r\n       <p id=\"voteStatusForB\"></p>\r\n        </div>\r\n\r\n\r\n        <div className=\"votingBallot\">\r\n        <h2 id=\"votingSectionOfC\">C</h2>\r\n        <p id=\"statusForC\"> </p>\r\n        <button disabled={!contract} id=\"buttonForC\"  className=\"votingButtons\" onClick={()=> {votingOfC();}}>Vote</button>\r\n        <p id=\"voteStatusForC\"></p>\r\n        </div>\r\n      </div>  \r\n\r\n      <div id=\"endVoting\"> <button onClick={()=>{ endOfVoting();}}>End Voting</button></div>\r\n      <div id=\"showingResults\">\r\n      <div id=\"results\"><button onClick={()=>{ \r\n        resultDeclaration();\r\n        statusOfA();\r\n        statusOfB();\r\n        statusOfC();\r\n        }}>Show Results</button></div>\r\n      <div id=\"boxContainingResult\"><p id=\"resultsOfVoting\"></p></div>\r\n      </div>\r\n      \r\n      </>\r\n\r\n  )\r\n  }\r\n  export default App;\r\n\r\n\r\n  // 1. why I the innerHTML is not working \r\n  // 2. and findout the new error of metaMask\r\n\r\n\r\n\r\n  "]},"metadata":{},"sourceType":"module"}